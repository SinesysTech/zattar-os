# =============================================================================
# SINESYS - Variáveis de Ambiente
# =============================================================================
# Copie este arquivo para .env.local (desenvolvimento) ou configure no CapRover
# IMPORTANTE: Nunca commite arquivos com valores reais de secrets!
# =============================================================================

# -----------------------------------------------------------------------------
# SUPABASE (Obrigatórias)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://seu-projeto.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY=
SUPABASE_SECRET_KEY=

# -----------------------------------------------------------------------------
# AUTENTICAÇÃO DE SISTEMA (Obrigatória)
# -----------------------------------------------------------------------------
# Chave para autenticação de jobs, MCP Server e APIs internas
# Gere com: openssl rand -hex 32
SERVICE_API_KEY=

# -----------------------------------------------------------------------------
# 2FAUTH - Autenticação 2FA/OTP para PJE (Obrigatórias para captura)
# -----------------------------------------------------------------------------
TWOFAUTH_API_URL=https://seu-2fauth.com/api/v1
TWOFAUTH_API_TOKEN=
TWOFAUTH_ACCOUNT_ID=

# -----------------------------------------------------------------------------
# STORAGE - Armazenamento de Arquivos
# -----------------------------------------------------------------------------
# Provider: backblaze | s3 | minio | supabase
STORAGE_PROVIDER=backblaze

# Backblaze B2 (quando STORAGE_PROVIDER=backblaze)
B2_ENDPOINT=https://s3.us-east-005.backblazeb2.com
B2_REGION=us-east-005
B2_BUCKET=
B2_KEY_ID=
B2_APPLICATION_KEY=

# S3/MinIO Genérico (quando STORAGE_PROVIDER=s3 ou minio)
STORAGE_ENDPOINT=
STORAGE_REGION=
STORAGE_BUCKET=
STORAGE_ACCESS_KEY=
STORAGE_SECRET_KEY=
STORAGE_PORT=443
STORAGE_USE_SSL=true

# -----------------------------------------------------------------------------
# GOOGLE DRIVE - Upload de Documentos via N8N
# -----------------------------------------------------------------------------
GOOGLE_DRIVE_WEBHOOK_URL=https://seu-webhook.com/webhook/drive
GOOGLE_DRIVE_WEBHOOK_TOKEN=

# -----------------------------------------------------------------------------
# REDIS - Cache Distribuído (Opcional, mas recomendado)
# -----------------------------------------------------------------------------
ENABLE_REDIS_CACHE=true
REDIS_URL=redis://:password@host:6379
REDIS_PASSWORD=
REDIS_CACHE_TTL=600
REDIS_CACHE_MAX_MEMORY=256mb
ENABLE_REDIS_LOG_STREAMING=false

# -----------------------------------------------------------------------------
# MONGODB - Timeline de Processos (Opcional)
# -----------------------------------------------------------------------------
MONGODB_URL=mongodb://user:pass@host:27017/database?authSource=admin
MONGODB_DATABASE=sinesys
ENABLE_MONGODB_AUDIT=true

# -----------------------------------------------------------------------------
# CAPTURA PJE - Configurações Avançadas (Opcionais)
# -----------------------------------------------------------------------------
# Paralelismo e retry
CAPTURA_PARALLEL=true
CAPTURA_RETRY=true
CAPTURA_RETRY_MAX_ATTEMPTS=3
CAPTURA_RETRY_BASE_DELAY_MS=1000
CAPTURA_RETRY_MAX_DELAY_MS=10000

# Limites de concorrência
CAPTURA_MAX_CONCURRENT_PARTES=5
CAPTURA_MAX_CONCURRENT_REPS=3

# Locks distribuídos (requer Redis)
CAPTURA_DISTRIBUTED_LOCK=false
CAPTURA_LOCK_TTL_SECONDS=300
CAPTURA_LOCK_TIMEOUT_MS=5000

# Validação e logging
CAPTURA_VALIDATE_REQUIRED=true
CAPTURA_STRICT_VALIDATION=false
CAPTURA_LOG_PAYLOADS=false
CAPTURA_PERF_THRESHOLD_MS=5000

# N8N Webhook para documentos pendentes
PJE_PENDENTE_DOCUMENTO_N8N_WEBHOOK_URL=

# -----------------------------------------------------------------------------
# AI GATEWAY (Opcional - para funcionalidades de IA)
# -----------------------------------------------------------------------------
AI_GATEWAY_API_KEY=

# -----------------------------------------------------------------------------
# LOGGING E DEBUG (Opcionais)
# -----------------------------------------------------------------------------
LOG_LEVEL=info
MCP_DEBUG=false
